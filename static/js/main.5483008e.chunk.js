(this.webpackJsonprestaurantcliente=this.webpackJsonprestaurantcliente||[]).push([[0],{74:function(e,a,t){e.exports=t(92)},79:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var l=t(0),r=t.n(l),n=t(66),c=t.n(n),o=(t(79),t(1)),s=t(67),m=t(30),i=t.n(m),d=(t(80),t(93),Object(m.initializeApp)({apiKey:"AIzaSyCqG_1hm7AJN58pyBj_lbMecOtwP2NXbzQ",authDomain:"taxis-stackblitz.firebaseapp.com",projectId:"taxis-stackblitz",storageBucket:"taxis-stackblitz.appspot.com",messagingSenderId:"977311415632",appId:"1:977311415632:web:c4a419e65259ff87fa8055"})),u=new function e(){Object(s.a)(this,e),i.a.apps.length||i.a.initializeApp(d),this.db=i.a.firestore(),this.storage=i.a.storage()},p=Object(l.createContext)(),b=u,g=t(45),E=t(8),h=function(e){var a,t=e.orden,l=e.arrItems,n=t.date.toDate().toLocaleTimeString(),c=t.date.toDate().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"short",day:"numeric"});return r.a.createElement("div",{className:"w-full px-3 mb-4"},r.a.createElement("div",{className:"p-5 shadow-md bg-white"},r.a.createElement("div",{className:"lg:flex"},r.a.createElement("div",{className:"lg:w-7/12 xl:w-9/12 pl-5"},r.a.createElement("h1",null,"Id-Orden: ",r.a.createElement("span",{className:"text-yellow-600 text-lg"},t.id),"  "),r.a.createElement("p",null," ",r.a.createElement("span",{className:"text-gray-600"},"comprador:")," ",t.buyer.name," "),r.a.createElement("p",null,r.a.createElement("span",{className:"text-gray-600"},"correo:"),"  ",t.buyer.email," "),r.a.createElement("p",null,r.a.createElement("span",{className:"text-gray-600"},"telefono:")," ",t.buyer.phone," "),r.a.createElement("p",null,r.a.createElement("span",{className:"text-gray-600"},"fecha:"),"  ",c,", ",n),r.a.createElement("p",null,r.a.createElement("span",{className:"text-gray-600"},"direccion:"),"  ",t.buyer.adress),r.a.createElement("br",null),t.items.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,"Id-producto: ",r.a.createElement("span",{className:"text-yellow-600 text-lg"},e.id)," "),r.a.createElement("p",null,r.a.createElement("span",{className:"text-gray-600"},"producto:"),"  ",e.item),r.a.createElement("p",null,r.a.createElement("span",{className:"text-gray-600"},"precio:"),"  ",e.price),r.a.createElement("p",null,r.a.createElement("span",{className:"text-gray-600"},"cantidad:"),"  ",e.qty),l.map((function(t){return console.log(t.id===e.id?a=t.pictureUrl[0]:null)})),r.a.createElement("img",{className:"w-1/12 mb-5",src:a,alt:""}))})),r.a.createElement("br",null),r.a.createElement("p",{className:"text-gray-800 font-bold"},"Total a Pagar: $ ",t.total)),r.a.createElement("div",{className:"lg:w-5/12 xl:w-3/12 m-2"},r.a.createElement("img",{src:a,alt:""})))))},x=function(){var e=Object(l.useContext)(p).firebase,a=Object(l.useState)([]),t=Object(E.a)(a,2),n=t[0],c=t[1],o=Object(l.useState)([]),s=Object(E.a)(o,2),m=s[0],i=s[1];function d(e){var a=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));c(a)}function u(e){var a=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));i(a)}return Object(l.useEffect)((function(){e.db.collection("orders").onSnapshot(d);e.db.collection("items").onSnapshot(u)}),[]),r.a.createElement("div",{className:"w-full"},r.a.createElement("h1",{className:"text-3xl font-light mb-4 ml-3"},"Ordenes"),r.a.createElement("div",{className:"sm:w-full sm:flex-wrap"},n.map((function(e){return r.a.createElement(h,{key:e.id,orden:e,arrItems:m})}))))},f=t(23),N=function(e){var a=e.item,t=a.id,l=a.name,n=a.details,c=a.pictureUrl,o=a.category,s=a.price,m=a.stock,i=a.description;return r.a.createElement("div",{className:"w-full px-3 mb-4"},r.a.createElement("div",{className:"p-5 shadow-md bg-white"},r.a.createElement("div",{className:"lg:flex"},r.a.createElement("div",{className:"lg:w-5/12 xl:w-3/12"},r.a.createElement("img",{src:c[0],alt:""})),r.a.createElement("div",{className:"lg:w-7/12 xl:w-9/12 pl-5"},r.a.createElement("p",{className:"text-2xl mb-4"},l," "),r.a.createElement("p",{className:"text-2xl text-yellow-600 mb-4"},t," "),r.a.createElement("p",{className:"text-gray-600 mb-4"},"Detalles: ","",r.a.createElement("span",{className:"text-gray-700 font-bold"},n)),r.a.createElement("p",{className:"text-gray-600 mb-4"},"Categor\xeda: ","",r.a.createElement("span",{className:"text-gray-700 font-bold"},o)),r.a.createElement("p",{className:"text-gray-600 mb-4"},"Descripcion: ","",r.a.createElement("span",{className:"text-gray-700 font-bold"},i)),r.a.createElement("p",{className:"text-gray-600 mb-4"},"Precio: ","",r.a.createElement("span",{className:"text-gray-700 font-bold"},"$ ",s)),r.a.createElement("p",{className:"text-gray-600 mb-4"},"Stock: ","",r.a.createElement("span",{className:"text-gray-700 font-bold"},m))))))},y=function(){var e=Object(l.useState)([]),a=Object(E.a)(e,2),t=a[0],n=a[1],c=Object(l.useContext)(p).firebase;function o(e){var a=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));n(a)}return Object(l.useEffect)((function(){c.db.collection("items").onSnapshot(o)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{to:"/nuevo",className:"bg-blue-800 hover:bg-blue-600 inline-block mb-5 p-2 text-white uppercase font-bold ml-3"},"Agregar Producto +"),t.map((function(e){return r.a.createElement(N,{key:e.id,item:e})})))},v=t(62),w=t.n(v),k=t(68),O=t(73),j=t(27),S=t(72),C=t.n(S),D=function(){var e=Object(l.useState)(!1),a=Object(E.a)(e,2),t=a[0],n=a[1],c=Object(l.useState)(0),s=Object(E.a)(c,2),m=s[0],i=s[1],d=Object(l.useState)([]),u=Object(E.a)(d,2),b=u[0],g=u[1],h=Object(l.useContext)(p).firebase,x=Object(o.f)(),f=Object(O.a)({initialValues:{name:"",price:"",category:"",pictureUrl:[],description:"",initial:1,stock:"",details:[]},validationSchema:j.b({name:j.c().min(3,"Los Platillos deben tener al menos 3 caracteres").required("El Nombre del platillo es obligatorio"),stock:j.a().min(1,"Debes agregar un stock").required("El stock es obligatorio"),price:j.a().min(1,"Debes agregar un n\xfamero").required("El Precio es obligatorio"),category:j.c().required("La Categor\xeda es obligatoria"),details:j.c().required("Un Detalle es obligatorio"),description:j.c().min(10,"La descripci\xf3n debe ser m\xe1s larga").required("La descripci\xf3n es obligatoria")}),onSubmit:function(e){try{e.pictureUrl=b,h.db.collection("items").add(e),x("/stock")}catch(a){console.log(a)}}}),N=function(){var e=Object(k.a)(w.a.mark((function e(a){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(100),n(!1),e.next=4,h.storage.ref("items").child(a).getDownloadURL();case 4:t=e.sent,g([t]);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex justify-center"},r.a.createElement("div",{className:"w-full max-w-3xl"},r.a.createElement("form",{onSubmit:f.handleSubmit},r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name"},"Nombre"),r.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text",placeholder:"Nombre",value:f.values.name,onChange:f.handleChange,onBlur:f.handleBlur})),f.touched.name&&f.errors.name?r.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},r.a.createElement("p",{className:"font-bold"},"Hubo un error:"),r.a.createElement("p",null,f.errors.name," ")):null,r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"details"},"Detalles"),r.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"details",type:"text",placeholder:"Detalle",value:f.values.details,onChange:f.handleChange,onBlur:f.handleBlur})),f.touched.details&&f.errors.details?r.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},r.a.createElement("p",{className:"font-bold"},"Hubo un error:"),r.a.createElement("p",null,"Anota algun Dato como Detalle")):null,r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"price"},"Precio"),r.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"price",type:"number",placeholder:"$",min:"0",value:f.values.price,onChange:f.handleChange,onBlur:f.handleBlur})),f.touched.price&&f.errors.price?r.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},r.a.createElement("p",{className:"font-bold"},"Hubo un error:"),r.a.createElement("p",null,f.errors.price," ")):null,r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"stock"},"Stock"),r.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"stock",type:"number",placeholder:"stock",min:"0",value:f.values.stock,onChange:f.handleChange,onBlur:f.handleBlur})),f.touched.stock&&f.errors.stock?r.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},r.a.createElement("p",{className:"font-bold"},"Hubo un error:"),r.a.createElement("p",null,f.errors.stock," ")):null,r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category"},"Categor\xeda"),r.a.createElement("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"category",name:"category",value:f.values.category,onChange:f.handleChange,onBlur:f.handleBlur},r.a.createElement("option",{value:""},"-- Seleccione --"),r.a.createElement("option",{value:"suplementos"},"Suplementos"),r.a.createElement("option",{value:"articulos"},"Articulos"))),f.touched.category&&f.errors.category?r.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},r.a.createElement("p",{className:"font-bold"},"Hubo un error:"),r.a.createElement("p",null,f.errors.category," ")):null,r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"pictureUrl"},"Imagen"),r.a.createElement(C.a,{accept:"image/*",id:"pictureUrl",name:"pictureUrl",randomizeFilename:!0,storageRef:h.storage.ref("items"),onUploadStart:function(){i(0),n(!0)},onUploadError:function(e){n(!1),console.log(e)},onUploadSuccess:N,onProgress:function(e){i(e)}})),t&&r.a.createElement("div",{className:"h-12 relative w-full border"},r.a.createElement("div",{className:"bg-green-500 absolute left-0 top-0 text-white px-2 text-sm h-12 flex items-center",style:{width:"".concat(m,"%")}},m," %")),0!==b.length&&r.a.createElement("p",{className:"bg-green-500 text-white p-3 text-center my-5"},"La Imagen se subi\xf3 correctamente"),r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description"},"Descripci\xf3n"),r.a.createElement("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-20",id:"description",placeholder:"Descripci\xf3n",value:f.values.description,onChange:f.handleChange,onBlur:f.handleBlur})),f.touched.description&&f.errors.description?r.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},r.a.createElement("p",{className:"font-bold"},"Hubo un error:"),r.a.createElement("p",null,f.errors.description," ")):null,r.a.createElement("input",{type:"submit",className:"bg-gray-800 hover:bg-gray-900 w-full mt-5 p-2 text-white uppercase font-bold",value:"Agregar"})))))},B=function(){return r.a.createElement("div",{className:"md:w-2/6 xl:w-1/5 bg-gray-800"},r.a.createElement("div",{className:"p-6"},r.a.createElement("p",{className:"uppercase text-white text-2xl tracking-wide font-bold"},"nexGym ADMIN"),r.a.createElement("p",{className:"mt-3 text-gray-600"},"Administra tu ecommerce en las siguientes opciones:"),r.a.createElement("nav",{className:"mt-10"},r.a.createElement(f.c,{className:"p-1 text-gray-400 block text-yellow-500 hover:bg-orange-300 hover:text-gray-900 a",exact:"true",to:"/stock"},"Stock"),r.a.createElement(f.c,{className:"p-1 text-gray-400 block text-yellow-500 hover:bg-orange-300 hover:text-gray-900 a",exact:"true",to:"/"},"Ordenes"))))};var I=function(){return r.a.createElement(p.Provider,{value:{firebase:b}},r.a.createElement("div",{className:"md:flex min-h-screen"},r.a.createElement(B,null),r.a.createElement("div",{className:"md:w-2/5 xl:w-4/5 p-6"},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",element:r.a.createElement(x,null)}),r.a.createElement(o.a,{path:"/stock",element:r.a.createElement(y,null)}),r.a.createElement(o.a,{path:"/nuevo",element:r.a.createElement(D,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(f.a,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.5483008e.chunk.js.map
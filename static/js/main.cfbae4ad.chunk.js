(this.webpackJsonprestaurantcliente=this.webpackJsonprestaurantcliente||[]).push([[0],{74:function(e,a,t){e.exports=t(92)},79:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var r=t(0),l=t.n(r),n=t(66),c=t.n(n),o=(t(79),t(1)),s=t(67),m=t(31),i=t.n(m),d=(t(80),t(93),Object(m.initializeApp)({apiKey:"AIzaSyCqG_1hm7AJN58pyBj_lbMecOtwP2NXbzQ",authDomain:"taxis-stackblitz.firebaseapp.com",projectId:"taxis-stackblitz",storageBucket:"taxis-stackblitz.appspot.com",messagingSenderId:"977311415632",appId:"1:977311415632:web:c4a419e65259ff87fa8055"})),u=new function e(){Object(s.a)(this,e),i.a.apps.length||i.a.initializeApp(d),this.db=i.a.firestore(),this.storage=i.a.storage()},p=Object(r.createContext)(),b=u,g=t(27),E=t(7),f=function(e){var a,t=e.orden,r=e.arrItems,n=t.date.toDate().toLocaleTimeString(),c=t.date.toDate().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"short",day:"numeric"});return l.a.createElement("div",{className:"w-full px-3 mb-4"},l.a.createElement("div",{className:"p-5 shadow-md bg-white"},l.a.createElement("div",{className:"lg:flex"},l.a.createElement("div",{className:"lg:w-7/12 xl:w-9/12 pl-5"},l.a.createElement("h1",null,"Id-Orden: ",l.a.createElement("span",{className:"text-yellow-600 text-lg"},t.id),"  "),l.a.createElement("p",null," ",l.a.createElement("span",{className:"text-gray-600"},"comprador:")," ",t.buyer.name," "),l.a.createElement("p",null,l.a.createElement("span",{className:"text-gray-600"},"correo:"),"  ",t.buyer.email," "),l.a.createElement("p",null,l.a.createElement("span",{className:"text-gray-600"},"telefono:")," ",t.buyer.phone," "),l.a.createElement("p",null,l.a.createElement("span",{className:"text-gray-600"},"fecha:"),"  ",c,", ",n),l.a.createElement("p",null,l.a.createElement("span",{className:"text-gray-600"},"direccion:"),"  ",t.buyer.adress),l.a.createElement("br",null),t.items.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("p",null,"Id-producto: ",l.a.createElement("span",{className:"text-yellow-600 text-lg"},e.id)," "),l.a.createElement("p",null,l.a.createElement("span",{className:"text-gray-600"},"producto:"),"  ",e.item),l.a.createElement("p",null,l.a.createElement("span",{className:"text-gray-600"},"precio:"),"  ",e.price),l.a.createElement("p",null,l.a.createElement("span",{className:"text-gray-600"},"cantidad:"),"  ",e.qty),r.map((function(t){return console.log(t.id===e.id?a=t.pictureUrl[0]:null)})),l.a.createElement("img",{className:"w-1/12 mb-5",src:a,alt:""}))})),l.a.createElement("br",null),l.a.createElement("p",{className:"text-gray-800 font-bold"},"Total a Pagar: $ ",t.total)),l.a.createElement("div",{className:"lg:w-5/12 xl:w-3/12 m-2 text-center text-white"},l.a.createElement("p",{className:t.entregado?"bg-blue-500 p-5":"bg-gray-500 p-5"},t.entregado?"Entregado por":"Sin Entregar"," ",t.deliver)))))},h=function(){var e=Object(r.useContext)(p).firebase,a=Object(r.useState)([]),t=Object(E.a)(a,2),n=t[0],c=t[1],o=Object(r.useState)([]),s=Object(E.a)(o,2),m=s[0],i=s[1];function d(e){var a=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));c(a)}function u(e){var a=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));i(a)}return Object(r.useEffect)((function(){e.db.collection("orders").onSnapshot(d);e.db.collection("items").onSnapshot(u)}),[]),l.a.createElement("div",{className:"w-full"},l.a.createElement("h1",{className:"text-3xl font-light mb-4 ml-3"},"Ordenes Para Repartir"),l.a.createElement("div",{className:"sm:w-full sm:flex-wrap"},n.filter((function(e){return!0!==e.noDeliver})).map((function(e){return l.a.createElement(f,{key:e.id,orden:e,arrItems:m})}))))},x=t(17),N=function(e){var a=e.item,t=a.id,r=a.name,n=a.details,c=a.pictureUrl,o=a.category,s=a.price,m=a.stock,i=a.description;return l.a.createElement("div",{className:"w-full px-3 mb-4"},l.a.createElement("div",{className:"p-5 shadow-md bg-white"},l.a.createElement("div",{className:"lg:flex"},l.a.createElement("div",{className:"lg:w-5/12 xl:w-3/12"},l.a.createElement("img",{src:c[0],alt:""})),l.a.createElement("div",{className:"lg:w-7/12 xl:w-9/12 pl-5"},l.a.createElement("p",{className:"text-2xl mb-4"},r," "),l.a.createElement("p",{className:"text-2xl text-yellow-600 mb-4"},t," "),l.a.createElement("p",{className:"text-gray-600 mb-4"},"Detalles: ","",l.a.createElement("span",{className:"text-gray-700 font-bold"},n)),l.a.createElement("p",{className:"text-gray-600 mb-4"},"Categor\xeda: ","",l.a.createElement("span",{className:"text-gray-700 font-bold"},o)),l.a.createElement("p",{className:"text-gray-600 mb-4"},"Descripcion: ","",l.a.createElement("span",{className:"text-gray-700 font-bold"},i)),l.a.createElement("p",{className:"text-gray-600 mb-4"},"Precio: ","",l.a.createElement("span",{className:"text-gray-700 font-bold"},"$ ",s)),l.a.createElement("p",{className:"text-gray-600 mb-4"},"Stock: ","",l.a.createElement("span",{className:"text-gray-700 font-bold"},m))))))},y=function(){var e=Object(r.useState)([]),a=Object(E.a)(e,2),t=a[0],n=a[1],c=Object(r.useContext)(p).firebase;function o(e){var a=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));n(a)}return Object(r.useEffect)((function(){c.db.collection("items").onSnapshot(o)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(x.b,{to:"/nuevo",className:"bg-blue-800 hover:bg-blue-600 inline-block mb-5 p-2 text-white uppercase font-bold ml-3"},"Agregar Producto +"),t.map((function(e){return l.a.createElement(N,{key:e.id,item:e})})))},v=t(62),w=t.n(v),k=t(68),O=t(73),j=t(28),S=t(72),C=t.n(S),D=function(){var e=Object(r.useState)(!1),a=Object(E.a)(e,2),t=a[0],n=a[1],c=Object(r.useState)(0),s=Object(E.a)(c,2),m=s[0],i=s[1],d=Object(r.useState)([]),u=Object(E.a)(d,2),b=u[0],g=u[1],f=Object(r.useContext)(p).firebase,h=Object(o.f)(),x=Object(O.a)({initialValues:{name:"",price:"",category:"",pictureUrl:[],description:"",initial:1,stock:"",details:[]},validationSchema:j.b({name:j.c().min(3,"Los Platillos deben tener al menos 3 caracteres").required("El Nombre del platillo es obligatorio"),stock:j.a().min(1,"Debes agregar un stock").required("El stock es obligatorio"),price:j.a().min(1,"Debes agregar un n\xfamero").required("El Precio es obligatorio"),category:j.c().required("La Categor\xeda es obligatoria"),details:j.c().required("Un Detalle es obligatorio"),description:j.c().min(10,"La descripci\xf3n debe ser m\xe1s larga").required("La descripci\xf3n es obligatoria")}),onSubmit:function(e){try{e.pictureUrl=b,f.db.collection("items").add(e),h("/stock")}catch(a){console.log(a)}}}),N=function(){var e=Object(k.a)(w.a.mark((function e(a){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(100),n(!1),e.next=4,f.storage.ref("items").child(a).getDownloadURL();case 4:t=e.sent,g([t]);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"flex justify-center"},l.a.createElement("div",{className:"w-full max-w-3xl"},l.a.createElement("form",{onSubmit:x.handleSubmit},l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name"},"Nombre"),l.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text",placeholder:"Nombre",value:x.values.name,onChange:x.handleChange,onBlur:x.handleBlur})),x.touched.name&&x.errors.name?l.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},l.a.createElement("p",{className:"font-bold"},"Hubo un error:"),l.a.createElement("p",null,x.errors.name," ")):null,l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"details"},"Detalles"),l.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"details",type:"text",placeholder:"Detalle",value:x.values.details,onChange:x.handleChange,onBlur:x.handleBlur})),x.touched.details&&x.errors.details?l.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},l.a.createElement("p",{className:"font-bold"},"Hubo un error:"),l.a.createElement("p",null,"Anota algun Dato como Detalle")):null,l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"price"},"Precio"),l.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"price",type:"number",placeholder:"$",min:"0",value:x.values.price,onChange:x.handleChange,onBlur:x.handleBlur})),x.touched.price&&x.errors.price?l.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},l.a.createElement("p",{className:"font-bold"},"Hubo un error:"),l.a.createElement("p",null,x.errors.price," ")):null,l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"stock"},"Stock"),l.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"stock",type:"number",placeholder:"stock",min:"0",value:x.values.stock,onChange:x.handleChange,onBlur:x.handleBlur})),x.touched.stock&&x.errors.stock?l.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},l.a.createElement("p",{className:"font-bold"},"Hubo un error:"),l.a.createElement("p",null,x.errors.stock," ")):null,l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category"},"Categor\xeda"),l.a.createElement("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"category",name:"category",value:x.values.category,onChange:x.handleChange,onBlur:x.handleBlur},l.a.createElement("option",{value:""},"-- Seleccione --"),l.a.createElement("option",{value:"suplementos"},"Suplementos"),l.a.createElement("option",{value:"articulos"},"Articulos"))),x.touched.category&&x.errors.category?l.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},l.a.createElement("p",{className:"font-bold"},"Hubo un error:"),l.a.createElement("p",null,x.errors.category," ")):null,l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"pictureUrl"},"Imagen"),l.a.createElement(C.a,{accept:"image/*",id:"pictureUrl",name:"pictureUrl",randomizeFilename:!0,storageRef:f.storage.ref("items"),onUploadStart:function(){i(0),n(!0)},onUploadError:function(e){n(!1),console.log(e)},onUploadSuccess:N,onProgress:function(e){i(e)}})),t&&l.a.createElement("div",{className:"h-12 relative w-full border"},l.a.createElement("div",{className:"bg-green-500 absolute left-0 top-0 text-white px-2 text-sm h-12 flex items-center",style:{width:"".concat(m,"%")}},m," %")),0!==b.length&&l.a.createElement("p",{className:"bg-green-500 text-white p-3 text-center my-5"},"La Imagen se subi\xf3 correctamente"),l.a.createElement("div",{className:"mb-4"},l.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description"},"Descripci\xf3n"),l.a.createElement("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-20",id:"description",placeholder:"Descripci\xf3n",value:x.values.description,onChange:x.handleChange,onBlur:x.handleBlur})),x.touched.description&&x.errors.description?l.a.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert"},l.a.createElement("p",{className:"font-bold"},"Hubo un error:"),l.a.createElement("p",null,x.errors.description," ")):null,l.a.createElement("input",{type:"submit",className:"bg-gray-800 hover:bg-gray-900 w-full mt-5 p-2 text-white uppercase font-bold",value:"Agregar"})))))},B=function(){return l.a.createElement("div",{className:"md:w-2/6 xl:w-1/5 bg-gray-800"},l.a.createElement("div",{className:"p-6"},l.a.createElement("p",{className:"uppercase text-white text-2xl tracking-wide font-bold"},"nexGym ADMIN"),l.a.createElement("p",{className:"mt-3 text-gray-600"},"Administra tu ecommerce en las siguientes opciones:"),l.a.createElement("nav",{className:"mt-10"},l.a.createElement(x.c,{className:"p-1 text-gray-400 block text-yellow-500 hover:bg-orange-300 hover:text-gray-900 a",exact:"true",to:"/stock"},"Stock"),l.a.createElement(x.c,{className:"p-1 text-gray-400 block text-yellow-500 hover:bg-orange-300 hover:text-gray-900 a",exact:"true",to:"/"},"Ordenes Para Repartir"),l.a.createElement(x.c,{className:"p-1 text-gray-400 block text-yellow-500 hover:bg-orange-300 hover:text-gray-900 a",exact:"true",to:"/ordenes-tienda"},"Ordenes Tienda Fisica"))))},I=function(){var e=Object(r.useContext)(p).firebase,a=Object(r.useState)([]),t=Object(E.a)(a,2),n=t[0],c=t[1],o=Object(r.useState)([]),s=Object(E.a)(o,2),m=s[0],i=s[1];function d(e){var a=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));c(a)}function u(e){var a=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));i(a)}return Object(r.useEffect)((function(){e.db.collection("orders").onSnapshot(d);e.db.collection("items").onSnapshot(u)}),[]),l.a.createElement("div",{className:"w-full"},l.a.createElement("h1",{className:"text-3xl font-light mb-4 ml-3"},"Ordenes Para Recoger en Tienda Fisica"),l.a.createElement("div",{className:"sm:w-full sm:flex-wrap"},n.filter((function(e){return!0===e.noDeliver})).map((function(e){return l.a.createElement(f,{key:e.id,orden:e,arrItems:m})}))))};var F=function(){return l.a.createElement(p.Provider,{value:{firebase:b}},l.a.createElement("div",{className:"md:flex min-h-screen"},l.a.createElement(B,null),l.a.createElement("div",{className:"md:w-2/5 xl:w-4/5 p-6"},l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"/",element:l.a.createElement(h,null)}),l.a.createElement(o.a,{path:"/stock",element:l.a.createElement(y,null)}),l.a.createElement(o.a,{path:"/nuevo",element:l.a.createElement(D,null)}),l.a.createElement(o.a,{path:"/ordenes-tienda",element:l.a.createElement(I,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(x.a,null,l.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.cfbae4ad.chunk.js.map